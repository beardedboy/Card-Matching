"use strict";!function(){function a(a){a.preventDefault(),P.currentLevel=1,q(K),B(),R(a)}function b(){q(K),w(N.timer),P.currentLevel++,m(),o(P.deck,P.noOfPairs.total),p(P.deck),f(),r(P.deck,P.noOfPairs.total,K)}function c(){for(var a=document.querySelectorAll(".card"),b=a.length,c=0;c<b;c++)a[c].addEventListener("click",C,!1);K.removeEventListener("click",F,!0),N.timer=u()}function d(){var a=I.createDocumentFragment(),b=3;a.appendChild(k(I,void 0,"js-ready_screen",void 0,"ready_screen")),L.appendChild(a);var c=(L.firstElementChild,I.getElementById("js-ready_screen"));e(b,c,l(G,void 0,5e3))}function e(a,b,c){if(a>0)setTimeout(function(){b.innerHTML=a,e(a-=1,b,c)},1e3);else{if(0!==a)return c;setTimeout(function(){b.innerHTML="Go",e(a-=1,b,c)},1e3)}}function f(){j();var a=I.createDocumentFragment();a.appendChild(k(I,"div","js-levelup_screen","Level Up!","level_up_screen")),L.appendChild(a),l([h,i,c],void 0,3e3)}function g(){j();var b=I.createDocumentFragment(),c=k(I,void 0,"js-game_over_screen",void 0,"game_over_screen"),d=k(I,"button","js-reset_button","Play again","reset_button");d.addEventListener("click",a,!1),c.appendChild(k(I,"h1",void 0,"Game Over","game_over_title")),c.appendChild(k(I,"h2",void 0,"You made it to level "+P.currentLevel,"game_over_final_level")),c.appendChild(k(I,"h2",void 0,"With a score of "+O.total,"game_over_final_score")),c.appendChild(d),b.appendChild(c),L.appendChild(b)}function h(){L.innerHTML=""}function i(){L.classList.add("title_screen-hidden")}function j(){L.classList.remove("title_screen-hidden")}function k(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,e=a.createElement(b);c&&(e.id=c);for(var f=arguments.length,g=Array(f>4?f-4:0),h=4;h<f;h++)g[h-4]=arguments[h];for(var i=0;i<g.length;i++)e.className+=g[i];return d&&(e.innerHTML=d),e}function l(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=L.firstElementChild;b&&d.classList.add(b),setTimeout(function(){if(L.removeChild(d),a.length>1)for(var b=0;b<a.length;b++)a[b]();else a()},c)}function m(){P.noOfPairs.total=P.noOfPairs.left=(2*P.currentLevel+2)/2}function n(a,b,c){this.name=a,this.design=b,this.id=c}function o(a,b){for(var c,d=0;d<b;d+=1)c=new n(P.cardDesign[d],P.cardDesign[d],P.cardDesign[d]),a.push(c),a.push(c)}function p(a){for(var b,c,d=a.length-1;d>0;d-=1)b=Math.floor(Math.random()*(d+1)),c=a[d],a[d]=a[b],a[b]=c;return a}function q(a){P.deck=[],a.innerHTML=""}function r(a,b,c){for(var d=c,e=0,f=a.length,g=I.createDocumentFragment();e<f;e++){var h=I.createElement("div");h.dataset.value=a[e].id,h.className="card",h.innerHTML+='<div class="front"></div>',h.innerHTML+='<div class="back '+a[e].name+'"><h1 class="card__title">'+a[e].name+"</h1></div>",h.addEventListener("click",C,!1),g.appendChild(h)}d.appendChild(g)}function s(){N.timeLeft=N.duration;var a=t(N.timeLeft);if(N.container.children.length>0)N.container.children[0].innerText=a.minutes,N.container.children[2].innerText=a.seconds<10?"0"+a.seconds:a.seconds;else{var b=I.createDocumentFragment(),c=I.createElement("span");c.className="minutes",c.id="js-minutes",c.innerText=a.minutes;var d=I.createElement("span");d.className="divider",d.innerText=":";var e=I.createElement("span");e.className="seconds",e.id="js-seconds",e.innerText=a.seconds<10?"0"+a.seconds:a.seconds,b.appendChild(c),b.appendChild(d),b.appendChild(e),N.container.appendChild(b),N.minuteContainer=c,N.secondContainer=e}}function t(a){var b=a%60,c=(a-b)/60;return{seconds:b,minutes:c}}function u(){return setInterval(v,1e3)}function v(){if(N.timeLeft>0){N.timeLeft--;var a=t(N.timeLeft);N.minuteContainer.innerText=a.minutes,N.secondContainer.innerText=a.seconds<10?"0"+a.seconds:a.seconds}else w(N.timer),H()}function w(a){return clearInterval(a)}function x(a){N.timeLeft=N.timeLeft+a}function y(){O.container.innerText=z(O.total)}function z(a){return a<10?"0000"+a:a<100?"000"+a:a<1e3?"00"+a:a<1e4?"0"+a:a}function A(a){O.total=O.total+a,y()}function B(){O.total=0}function C(a){a.preventDefault(),D(a.currentTarget)}function D(a){a.classList.toggle("card-selected"),Q.indexOf(a)!==-1?Q.pop():Q.push(a),2===Q.length&&(K.addEventListener("click",F,!0),E(Q))}function E(a){a[0].dataset.value===a[1].dataset.value?(Q=[],P.noOfPairs.left-=1,a[0].classList.remove("card-selected"),a[1].classList.remove("card-selected"),a[0].classList.add("card-completed"),a[1].classList.add("card-completed"),a[0].removeEventListener("click",C,!1),a[1].removeEventListener("click",C,!1),A(10),x(5),0===P.noOfPairs.left?b():K.removeEventListener("click",F,!0)):(Q=[],a[0].classList.remove("card-selected"),a[1].classList.remove("card-selected"),K.removeEventListener("click",F,!0))}function F(a){a.preventDefault(),a.stopPropagation()}function G(){i(),K.removeEventListener("click",F,!0),M.timesPlayed++,N.timer=u()}function H(){K.addEventListener("click",F,!0),g()}var I=document,J=I.getElementById("js-start_game"),K=I.getElementById("js-grid_container"),L=I.getElementById("js-title_screen"),M={timesPlayed:0},N={timer:null,container:I.getElementById("js-timer"),duration:10,timeLeft:0,minuteContainer:void 0,secondContainer:void 0},O={container:I.getElementById("js-score"),total:0},P={currentLevel:1,noOfPairs:{total:0,left:null},cardDesign:["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen"],deck:[]},Q=[],R=function(a){a.preventDefault(),m(),o(P.deck,P.noOfPairs.total),p(P.deck),s(),y(),r(P.deck,P.noOfPairs.total,K),M.timesPlayed>0?l(d,void 0,0):l(d,"screen-hidden",2e3)};J.addEventListener("click",R,!1)}();
//# sourceMappingURL=app.js.map